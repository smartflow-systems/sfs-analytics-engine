# =============================================================================
# SFS ANALYTICS ENGINE - ENVIRONMENT CONFIGURATION
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=5000

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string (Neon serverless recommended for production)
# Format: postgresql://user:password@host/database?sslmode=require
# Get your Neon database URL from: https://neon.tech
DATABASE_URL=postgresql://user:password@localhost:5432/sfs_analytics

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Secret for authentication tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-secret-key-change-in-production-VERY-IMPORTANT

# Session secret for cookie sessions
SESSION_SECRET=your-session-secret-change-in-production

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend API URL (for Vite)
VITE_API_URL=http://localhost:5000

# Client URL(s) for CORS (comma-separated for multiple origins)
CLIENT_URL=http://localhost:3000,http://localhost:5173
CORS_ORIGIN=http://localhost:5173

# =============================================================================
# STRIPE BILLING (for monetization)
# =============================================================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs for subscription tiers
STRIPE_PRICE_FREE=price_free
STRIPE_PRICE_PRO=price_pro_monthly
STRIPE_PRICE_BUSINESS=price_business_monthly
STRIPE_PRICE_ENTERPRISE=price_enterprise_monthly

# =============================================================================
# USAGE QUOTAS (Event limits per plan)
# =============================================================================
QUOTA_FREE=10000
QUOTA_PRO=500000
QUOTA_BUSINESS=5000000
QUOTA_ENTERPRISE=50000000

# =============================================================================
# OPTIONAL: REDIS (for event queuing at high throughput)
# =============================================================================
# If not set, events will be inserted directly to the database
# REDIS_URL=redis://localhost:6379

# =============================================================================
# OPTIONAL: EMAIL NOTIFICATIONS
# =============================================================================
# SMTP configuration for sending alerts and notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@sfs-analytics.com

# =============================================================================
# OPTIONAL: MONITORING & ALERTS
# =============================================================================
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# ALERT_EMAIL=alerts@yourcompany.com

# =============================================================================
# OPTIONAL: RATE LIMITING
# =============================================================================
# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS=60000
# Max requests per window
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# OPTIONAL: EXTERNAL INTEGRATIONS
# =============================================================================
# Google Analytics integration
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Mixpanel integration (if you want to track your own analytics)
# MIXPANEL_TOKEN=your-mixpanel-token

# =============================================================================
# SMARTFLOW SYSTEMS INTEGRATION
# =============================================================================
# SFS Personal Access Token for inter-service authentication
# Generate at: https://github.com/settings/tokens
# SFS_PAT=ghp_your_personal_access_token_here

# API Sync Token for webhook authentication between SFS services
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# SYNC_TOKEN=your-sync-token-change-in-production

# =============================================================================
# REPLIT DEPLOYMENT (auto-configured by Replit)
# =============================================================================
# These are AUTO-SET by Replit - do not manually configure
# REPL_ID=
# REPL_OWNER=
# REPLIT_TOKEN=
# REPLIT_DB_URL=
# FRONTEND_URL=https://sfs-analytics-engine.yourusername.replit.app

# =============================================================================
# ADVANCED: TIME SERIES DATABASE (optional for high-scale)
# =============================================================================
# For very high event volumes, you can use TimescaleDB or InfluxDB
# TIMESERIES_DB_URL=http://localhost:8086
# TIMESERIES_DB_TOKEN=your-influxdb-token
# TIMESERIES_DB_ORG=smartflow-systems
# TIMESERIES_DB_BUCKET=analytics

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
# How long to retain raw event data (days)
DATA_RETENTION_DAYS=365

# Aggregation interval for pre-computed metrics (seconds)
AGGREGATION_INTERVAL_SECONDS=60

# Enable real-time processing via WebSockets
ENABLE_REAL_TIME_PROCESSING=true
